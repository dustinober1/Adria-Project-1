# ============================================
# ADRIA CROSS WEBSITE - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in actual values
# NEVER commit .env file to version control
# See docs/DATABASE_SETUP.md for detailed setup instructions

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=development  # development | staging | production
PORT=3000             # Application port

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?options
#
# Local Development (with Cloud SQL Proxy):
# DATABASE_URL="postgresql://adria_app_user:dev_password_123@localhost:5432/adria_dev"
#
# Staging:
# DATABASE_URL="postgresql://adria_app_user:STAGING_PASSWORD@localhost:5433/adria_staging"
#
# Production (Cloud Run with Cloud SQL Connector):
# DATABASE_URL="postgresql://adria_app_user:PROD_PASSWORD@/adria_prod?host=/cloudsql/PROJECT_ID:REGION:adria-db-prod&sslmode=require"
#
# With connection pooling parameters:
# DATABASE_URL="postgresql://user:password@host:5432/db?connection_limit=10&pool_timeout=20&connect_timeout=10"

DATABASE_URL="postgresql://adria_app_user:YOUR_PASSWORD@localhost:5432/adria_dev"

# ============================================
# GOOGLE CLOUD SQL INSTANCE
# ============================================
# Cloud SQL instance connection name
# Format: PROJECT_ID:REGION:INSTANCE_NAME
# Find with: gcloud sql instances describe INSTANCE_NAME --format="value(connectionName)"

# Development
CLOUD_SQL_INSTANCE_DEV="your-project-id:us-central1:adria-db-dev"

# Staging
CLOUD_SQL_INSTANCE_STAGING="your-project-id:us-central1:adria-db-staging"

# Production
CLOUD_SQL_INSTANCE_PROD="your-project-id:us-central1:adria-db-prod"

# ============================================
# DATABASE CONNECTION POOL
# ============================================
# Maximum number of connections in the pool
# Recommendation: 10-20 for most Cloud Run instances
DB_POOL_SIZE=10

# Pool connection timeout (seconds)
DB_POOL_TIMEOUT=20

# Connection idle timeout (seconds)
DB_IDLE_TIMEOUT=30

# Connection lifetime (seconds) - forces connection refresh
DB_CONNECTION_LIFETIME=3600

# ============================================
# GOOGLE CLOUD CONFIGURATION
# ============================================
# Google Cloud Project ID
GCP_PROJECT_ID=your-project-id

# Google Cloud Region
GCP_REGION=us-central1

# Service Account Email (for IAM authentication)
GCP_SERVICE_ACCOUNT=adria-backend@your-project-id.iam.gserviceaccount.com

# Path to service account key (local development only - use IAM in production)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ============================================
# JWT AUTHENTICATION
# ============================================
# Secret key for JWT signing (generate with: openssl rand -base64 64)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT expiration time (e.g., "15m", "1h", "7d")
JWT_EXPIRES_IN=7d

# Refresh token expiration
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# SECURITY
# ============================================
# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:8080

# Rate limiting (requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Bcrypt rounds for password hashing
BCRYPT_ROUNDS=10

# ============================================
# GOOGLE SECRET MANAGER (PRODUCTION)
# ============================================
# Secret names in Google Secret Manager
# Used in Cloud Run to inject sensitive values

# Database password secret name
SECRET_DB_PASSWORD=adria-db-prod-password

# JWT secret secret name
SECRET_JWT_SECRET=adria-jwt-secret

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: error | warn | info | http | verbose | debug | silly
LOG_LEVEL=info

# Enable Prisma query logging (true/false)
PRISMA_LOG_QUERIES=false

# Enable Cloud Logging (GCP structured logging)
ENABLE_CLOUD_LOGGING=false

# ============================================
# EMAIL CONFIGURATION (FUTURE)
# ============================================
# Email service for notifications (SendGrid, Mailgun, etc.)
# EMAIL_SERVICE=sendgrid
# EMAIL_API_KEY=your-email-api-key
# EMAIL_FROM=noreply@adriacross.com

# ============================================
# CLOUD STORAGE (FUTURE)
# ============================================
# Google Cloud Storage bucket for uploads
# GCS_BUCKET_NAME=adria-uploads
# GCS_UPLOAD_PATH=images/

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:8080

# API URL (for frontend to connect)
API_URL=http://localhost:3000/api/v1

# ============================================
# REDIS CACHE (FUTURE - OPTIONAL)
# ============================================
# Redis connection for session/cache
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password
# REDIS_TTL=3600

# ============================================
# FEATURE FLAGS (FUTURE)
# ============================================
# Enable/disable features during deployment
# FEATURE_BLOG_ENABLED=true
# FEATURE_BOOKING_ENABLED=true
# FEATURE_PAYMENTS_ENABLED=false

# ============================================
# DEVELOPMENT TOOLS
# ============================================
# Prisma Studio port
PRISMA_STUDIO_PORT=5555

# Enable GraphQL Playground (development only)
ENABLE_GRAPHQL_PLAYGROUND=true

# Enable API documentation (Swagger)
ENABLE_API_DOCS=true

# ============================================
# DOCKER CONFIGURATION
# ============================================
# Docker Compose overrides
COMPOSE_PROJECT_NAME=adria-cross

# ============================================
# NOTES
# ============================================
# 1. Generate secure passwords: openssl rand -base64 32
# 2. For production, use Google Secret Manager instead of .env
# 3. Never commit .env file - it's in .gitignore
# 4. Rotate secrets regularly (quarterly minimum)
# 5. Use different credentials for each environment
# 6. See docs/DATABASE_SETUP.md for detailed configuration
